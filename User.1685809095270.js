var T=Object.defineProperty;var w=(e,t,d)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[t]=d;var g=(e,t,d)=>(w(e,typeof t!="symbol"?t+"":t,d),d);import{_ as f,d as y,o as n,c as i,a,b as I,w as M,e as C,t as o,T as D,F as u,r as p,f as v,g as P,h as A,i as L,z as N,j,k as B,s as q,l as $,u as z,m as F,n as b,p as V,q as H}from"./index.1685809095270.js";import{u as S,a as K}from"./scroll.1685809095270.js";const W=y({props:{data:{type:Object,required:!0},store:{type:Object,required:!0}},setup(){const{imageRef:e,clickImageRef:t,imageChange:d}=S();return{rightData:["id","name","username","phone"],imageRef:e,clickImageRef:t,imageChange:d}}}),Y={class:"wrapper"},G={class:"image_container"},J=["src","alt"],Q={class:"right_data_container"},X={class:"data_name"},Z={class:"data_value"},x={class:"bottom_data_container"},ee={class:"data_item"},ae={class:"data_name"},se={class:"data_value"},te={class:"data_item"},oe={class:"data_name"},ne={class:"data_value"},de={class:"data_item"},ie={class:"data_name"},le={class:"data_value"},ce={class:"data_item"},re={class:"data_name"},_e={class:"data_value"},me={class:"button_container"};function ue(e,t,d,c,r,m){return n(),i("div",Y,[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:t[0]||(t[0]=(...s)=>e.imageChange&&e.imageChange(...s))},null,544),a("div",G,[I(D,{name:"fade",mode:"out-in"},{default:M(()=>[e.data.image?(n(),i("img",{src:e.data.image,key:e.data.id,alt:e.data.image,onClick:t[1]||(t[1]=s=>e.clickImageRef(e.data.id))},null,8,J)):(n(),i("div",{key:1,onClick:t[2]||(t[2]=C(s=>e.clickImageRef(e.data.id),["self"]))},o(e.$t("CLICK_TO_UPDATE_PHOTO")),1))]),_:1})]),a("div",Q,[(n(!0),i(u,null,p(e.rightData,(s,l)=>(n(),i("div",{class:"data_item",key:l},[a("div",X,o(e.$t(s.toUpperCase())),1),a("div",Z,o(e.data[s]),1)]))),128))]),a("div",x,[a("div",ee,[a("div",ae,o(e.$t("EMAIL")),1),a("div",se,o(e.data.email),1)]),a("div",te,[a("div",oe,o(e.$t("WEBSITE")),1),a("div",ne,o(e.data.website),1)]),a("div",de,[a("div",ie,o(e.$t("ADDRESS")),1),a("div",le,o(`${e.data.address.city},
                        ${e.data.address.street},
                        ${e.data.address.suite},
                        ${e.data.address.zipcode}`),1)]),a("div",ce,[a("div",re,o(e.$t("COMPANY")),1),a("div",_e,o(e.data.company.name),1)])]),a("div",me,[a("button",{class:"success",onClick:t[3]||(t[3]=C(s=>e.$emit("destroy"),["self"]))},o(e.$t("CLOSE")),1)])])}const pe=f(W,[["render",ue],["__scopeId","data-v-53d43566"]]);const ve=y({props:{modals:{type:Object},store:{type:Object},destroyModals:{type:Function}},components:{MUserDetail:pe},setup(e){const t=e.modals,d=e.store,c=e.destroyModals,r=v(t);function m(s){const l=r.value.findIndex(_=>_.id===s);r.value.splice(l,1),r.value.length===0&&c()}return{modals:r,storeProp:d,destroy:m}}}),he={class:"modal_backdrop"};function ge(e,t,d,c,r,m){return n(),i("div",he,[(n(!0),i(u,null,p(e.modals,s=>(n(),P(A(s.modalName),{store:e.storeProp,data:s.data,key:s.id,class:"component",onDestroy:l=>e.destroy(s.id),onCallback:s.callback},null,40,["store","data","onDestroy","onCallback"]))),128))])}const $e=f(ve,[["render",ge],["__scopeId","data-v-3e3fffaa"]]);class fe{constructor(){g(this,"modals");g(this,"app");this.modals=v([]),this.app=null}userDetail(t,d){const c="MUserDetail";this.create(t,c,d)}create(t,d,c){const m={id:new Date().getTime(),data:t,callback:c,modalName:d},s=L({legacy:!1,locale:localStorage.getItem("locale")??"en-US",fallbackLocale:"en-US",messages:{"zh-TW":N,"en-US":j}});if(this.modals.value.push(m),this.modals.value.length===1){const l=this.modals,_=document.createElement("div"),h=this.destroyModals.bind(this);this.app=B($e,{modals:l,store:q,destroyModals:h}),this.app.use(s),_.id="modalElement",document.body.appendChild(_),this.app.mount(_)}}destroyModals(){const t=document.body.querySelector("#modalElement");this.app.unmount(),document.body.removeChild(t)}}const ye=new fe;const ke=y({setup(){const e=v(!0),t=v(),d=$(()=>_.isMobile),c=$(()=>h["data/getUsers"]),r=$(()=>d.value?["id","name"]:["id","name","username","email","phone","website"]),{imageRef:m,clickImageRef:s,imageChange:l}=S(),{state:_,getters:h,dispatch:E}=z(),{setScrollTarget:R}=K();F(async()=>{await E("data/getUsers"),R(t.value),setTimeout(()=>{e.value=!1},750)});function U(O){ye.userDetail(O)}return{users:c,loading:e,itemList:r,imageRef:m,isMobile:d,elementContainerRef:t,clickImageRef:s,imageChange:l,userDetail:U}}}),k=e=>(V("data-v-3348294d"),e=e(),H(),e),Ce={class:"element_container",ref:"elementContainerRef"},be={class:"image_container"},Ie=["src","alt","onClick"],Me=["onClick"],De={class:"data_container"},Se={class:"data_name"},Ee={class:"data_value"},Re={key:0,class:"data_item"},Ue={class:"data_name"},Oe={class:"data_value"},Te={key:1,class:"data_item"},we={class:"data_name"},Pe={class:"data_value"},Ae=["onClick"],Le=k(()=>a("div",{class:"image_container"},[a("div",{class:"image_skeleton"})],-1)),Ne={class:"data_container"},je=k(()=>a("div",{class:"data_name_skeleton"},null,-1)),Be=k(()=>a("div",{class:"data_value"},null,-1)),qe=[je,Be];function ze(e,t,d,c,r,m){return n(),i("main",Ce,[e.loading?(n(),i(u,{key:1},p(5,s=>a("div",{class:"element",key:s},[Le,a("div",Ne,[(n(),i(u,null,p(9,l=>a("div",{class:"data_item",key:l},qe)),64))])])),64)):(n(),i(u,{key:0},[a("input",{type:"file",ref:"imageRef",accept:"image/*",onChange:t[0]||(t[0]=(...s)=>e.imageChange&&e.imageChange(...s))},null,544),(n(!0),i(u,null,p(e.users,s=>(n(),i("div",{class:"element",key:s.id},[a("figure",be,[I(D,{name:"fade",mode:"out-in"},{default:M(()=>[s.image?(n(),i("img",{src:s.image,key:s.image,alt:s.image,class:"image",onClick:l=>e.clickImageRef(s.id)},null,8,Ie)):(n(),i("figcaption",{key:1,class:"image",onClick:l=>e.clickImageRef(s.id)},o(e.$t("CLICK_TO_UPDATE_PHOTO")),9,Me))]),_:2},1024)]),a("div",De,[(n(!0),i(u,null,p(e.itemList,(l,_)=>(n(),i("div",{class:"data_item",key:_},[a("div",Se,o(e.$t(l.toUpperCase())),1),a("div",Ee,o(s[l]),1)]))),128)),e.isMobile?b("",!0):(n(),i("div",Re,[a("div",Ue,o(e.$t("COMPANY")),1),a("div",Oe,o(s.company.name),1)])),e.isMobile?b("",!0):(n(),i("div",Te,[a("div",we,o(e.$t("ADDRESS")),1),a("div",Pe,o(s.address.city)+", "+o(s.address.street),1)])),a("div",{class:"data_item clickable",onClick:l=>e.userDetail(s)},o(e.$t("SEE_MORE")),9,Ae)])]))),128))],64))],512)}const Ke=f(ke,[["render",ze],["__scopeId","data-v-3348294d"]]);export{Ke as default};
